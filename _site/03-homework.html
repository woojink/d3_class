<!DOCTYPE html>
<html>
  <head>
    <title>Class 3 Homework</title>
    <style>
      body {
        font-family: Helvetica;
        letter-spacing: -1px;
      }
      svg {
        margin-left: 20px;
      }
      h1 {
        text-align: center;
        font-weight: normal;
      }
      h2 {
        background-color: #d3d3d3;
        color: #fff;
        /*padding-left: 10px;*/
        padding: 10px 10px 10px 10px;
      }
      div.main {
        margin: auto;
        width: 80%;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
  </head>
  <body>
    <h1>Woojin Kim (wk2246), Homework for Class 3</h1>
    <div class="main">
      <h2>#1, 2</h2>
      <svg height="300" width="1000">
        <rect x="0" y="10" height="20"></rect>
        <rect x="0" y="60" height="20"></rect>
        <rect x="0" y="110" height="20"></rect>
        <rect x="0" y="160" height="20"></rect>
        <rect x="0" y="210" height="20"></rect>
        <rect x="0" y="260" height="20"></rect>
      </svg>

      <br>
      
      <h2>#3, 4, 5</h2>
      <svg class="total-area" height="400" width="1000"></svg>
      
      <script>
        var wet_state_data = [
          {'name': 'Alabama',     'total_area': 52420,  'percent_water': 3.4,   'total_land_area': 50645},
          {'name': 'Arizona',     'total_area': 113990, 'percent_water': 0.3,   'total_land_area': 113594},
          {'name': 'California',  'total_area': 163695, 'percent_water': 4.8,   'total_land_area': 155779},
          {'name': 'Connecticut', 'total_area': 5543, 'percent_water': 12.6,   'total_land_area': 4842},
          {'name': 'New Mexico', 'total_area': 121590, 'percent_water': 0.2,   'total_land_area': 121298},
          {'name': 'Vermont', 'total_area': 9616, 'percent_water': 4.2,   'total_land_area': 9217}
        ];

        //----------------------------------------------------------------------
        // #1, 2
        var states = d3.selectAll("rect");
        states.style('fill', 'blue');
        states.data(wet_state_data);

        console.log(states)
        states.attr('width', function(d) {
          return d['percent_water']*100;
        });

        //----------------------------------------------------------------------
        // #3, 4, 5
        var total_area_chart = d3.select(".total-area");
        var total_area = total_area_chart.selectAll("rect")
          .data(wet_state_data)
          .enter()
          .append('rect');

        spacing = 100;
        total_area.attr('width', 10)
          .attr('x', function(d,i){
            return i*spacing;
          })
          .attr('y', 30)
          .attr('height', function(d){
            console.log(d['total_area']);
            return d['total_area']/800;
          })
          .attr('fill', function(d){
            if(d['total_area'] > 50000){
              return 'purple';}
            else {
              return 'red';}
          });

          // Labelling
          total_area_chart.selectAll("text")
            .data(wet_state_data)
            .enter()
            .append('text')
            .attr('x', function(d,i){
              return i*spacing;
            })
            .attr('y', 15)
            .text(function(d){
              return d['name'];
            })

      </script>
    </div>
  </body>
</html>